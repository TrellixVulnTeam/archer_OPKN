---
sudo: required

language: python
python:
  - "2.7"
  - "3.6"
  - "3.7"

services:
  - docker

install:
  - pip install pipenv
  - pipenv install --system

script:
  - yamllint .
  - make test

notifications:
  irc:
    channels:
      - "chat.freenode.net#archer-builds"
    template:
      - "%{repository_slug}#%{build_number} (%{branch} - %{commit} - %{author}) : %{message}"
      - "Changeset: %{compare_url}"
      - "Build details: %{build_url}"
    on_success: change
